{"version":3,"file":"campo-ui.js","sources":["../../src/js/animate.js","../../src/js/controllers/dialog_controller.js","../../src/js/controllers/drawer_controller.js","../../src/js/controllers/dropdown_controller.js","../../src/js/controllers/floating_action_controller.js","../../src/js/controllers/snackbar_controller.js","../../src/js/controllers/toggle_controller.js","../../src/js/controllers/sheet_controller.js","../../src/js/controllers/selector_controller.js","../../src/js/controllers/chip_controller.js","../../src/js/campo-ui.js"],"sourcesContent":["export default function animate(element, animationName, callback) {\n  if (!element) {\n    return\n  }\n\n  if (element.classList.contains('animate')) {\n    // wait another animate end\n    element.addEventListener('animationend', () => {\n      animateRun(element, animationName, callback)\n    })\n  } else {\n    animateRun(element, animationName, callback)\n  }\n}\n\nfunction animateRun(element, animationName, callback) {\n  element.classList.add('animate', animationName)\n\n  function handleAnimationEnd() {\n    element.classList.remove('animate', animationName)\n    element.removeEventListener('animationend', handleAnimationEnd)\n\n    if (typeof callback === 'function') callback()\n  }\n\n  element.addEventListener('animationend', handleAnimationEnd)\n}\n","import { Controller } from \"stimulus\"\nimport animate from \"../animate\"\n\nexport default class extends Controller {\n  connect() {\n    this.element[this.identifier] = this;\n  }\n\n  disconnect() {\n    this.element.classList.remove('dialog--open')\n  }\n\n  toggle() {\n    if (this.element.classList.contains('dialog--open')) {\n      this.close()\n    } else {\n      this.open()\n    }\n  }\n\n  open() {\n    this.element.classList.add('dialog--open')\n    animate(this.element.querySelector('.dialog__scrim'), 'animate--fade-in')\n    animate(this.element.querySelector('.dialog__container'), 'animate--zoom-in')\n  }\n\n  close() {\n    animate(this.element.querySelector('.dialog__scrim'), 'animate--fade-out')\n    animate(this.element.querySelector('.dialog__container'), 'animate--zoom-out', () => {\n      this.element.classList.remove('dialog--open')\n    })\n  }\n\n  remove() {\n    animate(this.element.querySelector('.dialog__scrim'), 'animate--fade-out')\n    animate(this.element.querySelector('.dialog__container'), 'animate--zoom-out', () => {\n      this.element.remove()\n    })\n  }\n}\n","import { Controller } from \"stimulus\"\nimport animate from \"../animate\"\n\nexport default class extends Controller {\n  connect() {\n    this.element[this.identifier] = this;\n  }\n\n  disconnect() {\n    this.element.classList.remove('drawer--open')\n  }\n\n  toggle() {\n    if (this.element.classList.contains('drawer--open')) {\n      this.close()\n    } else {\n      this.open()\n    }\n  }\n\n  open() {\n    this.element.classList.add('drawer--open')\n    animate(this.element.querySelector('.drawer__scrim'), 'animate--fade-in')\n    animate(this.element.querySelector('.drawer__container'), 'animate--drawer-in')\n  }\n\n  close() {\n    animate(this.element.querySelector('.drawer__scrim'), 'animate--fade-out')\n    animate(this.element.querySelector('.drawer__container'), 'animate--drawer-out', () => {\n      this.element.classList.remove('drawer--open')\n    })\n  }\n}\n","import { Controller } from \"stimulus\"\nimport animate from \"../animate\"\n\nexport default class extends Controller {\n  connect() {\n    this.element[this.identifier] = this;\n\n    this.closeMenuOutside = (event) => {\n      if (!this.element.contains(event.target)) {\n        this.close();\n      }\n    }\n  }\n\n  disconnect() {\n    if (this.isOpen()) {\n      this.element.classList.remove('dropdown--open')\n      document.removeEventListener('click', this.closeMenuOutside)\n    }\n  }\n\n  toggle() {\n    if (this.isOpen()) {\n      this.close()\n    } else {\n      this.open()\n    }\n  }\n\n  isOpen() {\n    return this.element.classList.contains('dropdown--open')\n  }\n\n  open() {\n    this.element.classList.add('dropdown--open')\n    animate(this.element.querySelector('.dropdown__menu'), 'animate--scale-in')\n    document.addEventListener('click', this.closeMenuOutside)\n  }\n\n  close() {\n    animate(this.element.querySelector('.dropdown__menu'), 'animate--scale-out', () => {\n      this.element.classList.remove('dropdown--open')\n    })\n    document.removeEventListener('click', this.closeMenuOutside)\n  }\n}\n","import { Controller } from \"stimulus\"\nimport animate from \"../animate\"\n\nexport default class extends Controller {\n  connect() {\n    this.element[this.identifier] = this;\n\n    this.closeMenuOutside = (event) => {\n      if (!this.element.contains(event.target)) {\n        this.close();\n      }\n    }\n  }\n\n  toggle() {\n    if (this.element.classList.contains('floating-action--open')) {\n      this.close()\n    } else {\n      this.open()\n    }\n  }\n\n  open() {\n    this.element.classList.add('floating-action--open')\n    animate(this.element.querySelector('.floating-action__menu'), 'animate--scale-in')\n    document.addEventListener('click', this.closeMenuOutside)\n  }\n\n  close() {\n    animate(this.element.querySelector('.floating-action__menu'), 'animate--scale-out', () => {\n      this.element.classList.remove('floating-action--open')\n    })\n    document.removeEventListener('click', this.closeMenuOutside)\n  }\n}\n","import { Controller } from \"stimulus\"\nimport animate from '../animate'\n\nexport default class extends Controller {\n  connect() {\n    this.element[this.identifier] = this;\n\n    const delay = parseInt(this.data.get('period')) || 5000\n\n    animate(this.element, 'animate--zoom-in', () => {\n      setTimeout(() => {\n        this.remove()\n      }, delay)\n    })\n  }\n\n  remove() {\n    animate(this.element, 'animate--zoom-out', () => {\n      this.element.remove()\n    })\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  connect() {\n    this.element[this.identifier] = this;\n\n    this.element.addEventListener('click', () => {\n      let targetElement = document.querySelector(this.data.get('target'))\n      let identifier = this.data.get('action').split('#')[0]\n      let action = this.data.get('action').split('#')[1]\n      let controller = targetElement[identifier]\n      controller[action].call(controller)\n    })\n  }\n}\n","import { Controller } from \"stimulus\"\nimport animate from \"../animate\"\n\nexport default class extends Controller {\n  connect() {\n    this.element[this.identifier] = this;\n  }\n\n  toggle() {\n    if (this.element.classList.contains('sheet--open')) {\n      this.close()\n    } else {\n      this.open()\n    }\n  }\n\n  open() {\n    this.element.classList.add('sheet--open')\n    animate(this.element.querySelector('.sheet__scrim'), 'animate--fade-in')\n    animate(this.element.querySelector('.sheet__container'), 'animate--sheet-in')\n  }\n\n  close() {\n    animate(this.element.querySelector('.sheet__scrim'), 'animate--fade-out')\n    animate(this.element.querySelector('.sheet__container'), 'animate--sheet-out', () => {\n      this.element.classList.remove('sheet--open')\n    })\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static values = {\n    placeholder: String,\n    creatable: Boolean,\n    maxItems: Number\n  }\n\n  static targets = [\"select\", \"chip\", \"item\"]\n\n  connect() {\n    this.element[this.identifier] = this;\n\n    this.multiple = this.selectTarget.multiple\n\n    if (!this.multiple) {\n      this.maxItemsValue = 1\n    }\n\n    this.content = document.createElement('div')\n    this.content.className = 'selector__content'\n    this.element.appendChild(this.content)\n\n    if (!this.multiple) {\n      this.text = document.createElement('div')\n      this.text.className = 'selector__text'\n      this.content.appendChild(this.text)\n    }\n\n    this.input = document.createElement('input')\n    this.input.type = 'text'\n    this.input.className = 'selector__input'\n    this.setPlaceholder()\n    this.content.appendChild(this.input)\n\n    this.menu = document.createElement('div')\n    this.menu.className = 'selector__menu'\n    this.element.appendChild(this.menu)\n\n    this.initOptions()\n\n    // remove unselect option to keep output order\n    Array.from(this.selectTarget.options).forEach((option) => {\n      if (!option.selected) {\n        option.remove()\n      }\n    })\n\n    if (this.multiple) {\n      this.options.forEach((option) => {\n        if (option.selected) {\n          this.appendChip(option)\n        }\n      })\n    } else {\n      this.text.textContent = this.selectTarget.value\n    }\n\n    this.renderMenu()\n\n    this.input.addEventListener('focus', this.focus.bind(this))\n    this.input.addEventListener('input', this.onInput.bind(this))\n    this.input.addEventListener('keydown', this.onKeydown.bind(this))\n\n    this.clickOutside = (event) => {\n      if (!this.element.contains(event.target)) {\n        this.blur()\n      }\n    }\n  }\n\n  maxItemsLimit() {\n    return this.maxItemsValue && this.selectTarget.selectedOptions.length >= this.maxItemsValue\n  }\n\n  setPlaceholder() {\n    if (this.maxItemsLimit()) {\n      this.input.removeAttribute('placeholder')\n    } else {\n      this.input.setAttribute('placeholder', this.placeholderValue)\n    }\n  }\n\n  initOptions() {\n    this.options = Array.from(this.selectTarget.options).map(option => {\n      return {\n        text: option.text, value: option.value, selected: option.selected\n      }\n    })\n  }\n\n  renderMenu() {\n    this.menu.innerHTML = ''\n    if (this.multiple && this.maxItemsLimit()) {\n      this.computedOptions = []\n    } else {\n      this.computedOptions = this.filterOptions(this.input.value)\n\n      let createOption\n      if (this.creatableValue) {\n        createOption = this.createOption(this.input.value)\n        if (createOption) {\n          this.computedOptions.unshift(createOption)\n        }\n      }\n\n      this.computedOptions.forEach((option) => {\n        let dom = this.htmlToElement(this.renderItem(option))\n        this.menu.appendChild(dom)\n      })\n\n      if (this.computedOptions.length > 0) {\n        if (createOption && this.computedOptions.length > 1) {\n          this.focusItem(1)\n        } else {\n          this.focusItem(0)\n        }\n      }\n    }\n  }\n\n  createOption(input) {\n    if (input && input.length > 0) {\n      return { text: `${input}`, value: input, create: true }\n    } else {\n      return false\n    }\n  }\n\n  onInput() {\n    this.renderMenu()\n  }\n\n  onKeydown(event) {\n    if (this.maxItemsLimit()) {\n      event.preventDefault()\n    }\n\n    if (!event.isComposing) {\n      switch (event.keyCode) {\n        case 13: // Enter\n          // avoid trigger form submit\n          event.preventDefault()\n          this.selectFocus()\n          break;\n        case 8: // Backspace\n          this.removeLast()\n          break;\n        case 38: // ArrowUp\n          this.focusPrev()\n          break;\n        case 40: // ArrowDown\n          this.focusNext()\n          break;\n      }\n    }\n  }\n\n  selectFocus() {\n    if (this.computedOptions.length) {\n      let focusOption = this.computedOptions[this.focusIndex]\n      this.addSelected(focusOption)\n      this.input.value = ''\n      this.renderMenu()\n    }\n  }\n\n  removeLast() {\n    if (this.input.value == '') {\n      let lastOptionDom = this.selectTarget.options[this.selectTarget.options.length - 1]\n      if (lastOptionDom) {\n        this.removeSelected(lastOptionDom.value)\n        this.renderMenu()\n      }\n    }\n  }\n\n  focusItem(index) {\n    this.focusIndex = index\n    let option = this.computedOptions[index]\n\n    let prevFocusItem = this.element.querySelector('.selector__item--focus')\n    if (prevFocusItem) {\n      prevFocusItem.classList.remove('selector__item--focus')\n    }\n\n    this.itemTargets[this.focusIndex].classList.add('selector__item--focus')\n  }\n\n  focusPrev() {\n    if (this.computedOptions.length > 0) {\n      if (this.focusIndex > 0) {\n        this.focusItem(this.focusIndex - 1)\n      } else {\n        this.focusItem(this.computedOptions.length - 1)\n      }\n    }\n  }\n\n  focusNext() {\n    if (this.computedOptions.length > 0) {\n      if (this.focusIndex < this.computedOptions.length - 1) {\n        this.focusItem(this.focusIndex + 1)\n      } else {\n        this.focusItem(0)\n      }\n    }\n  }\n\n  filterOptions(input) {\n    return this.options.filter(option => !option.selected &&  option.text.toLowerCase().includes(input.toLowerCase()))\n  }\n\n  htmlToElement(html) {\n    let template = document.createElement('template')\n    template.innerHTML = html.trim()\n    return template.content.firstChild\n  }\n\n  renderItem(option) {\n    return `\n      <div class=\"selector__item\" data-value=\"${option.value}\" data-selector-target=\"item\" data-action=\"click->selector#select\">\n        ${ option.create ? `Add ${option.text}...` : option.text }\n      </div>\n    `\n  }\n\n  appendChip(option) {\n    let chip = this.htmlToElement(this.renderChip(option))\n    this.content.insertBefore(chip, this.input)\n  }\n\n  renderChip(option) {\n    return `\n      <div class=\"chip\" data-value=\"${option.value}\" data-selector-target=\"chip\">\n        ${option.text}\n        <div class=\"chip__action\">\n          <button type=\"button\" class=\"button button--icon\" data-action=\"selector#unselect\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\" opacity=\".87\"/><path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm4.3 14.3c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0-.39-.39-.39-1.02 0-1.41L10.59 12 7.7 9.11c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.89c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 12l2.89 2.89c.38.38.38 1.02 0 1.41z\"/></svg>\n          </button>\n        </div>\n      </div>\n    `\n  }\n\n  focus() {\n    this.element.classList.add('selector--focus')\n    document.addEventListener('click', this.clickOutside)\n  }\n\n  blur() {\n    this.element.classList.remove('selector--focus')\n    document.removeEventListener('click', this.clickOutside)\n  }\n\n  unselect(event) {\n    event.stopPropagation()\n    let chip = event.currentTarget.closest('.chip')\n    this.removeSelected(chip.dataset.value)\n    this.renderMenu()\n  }\n\n  getOption(value) {\n    return this.options.find(option => option.value == value)\n  }\n\n  select(event) {\n    event.stopPropagation()\n    let item = event.currentTarget\n    let option = this.computedOptions.find(option => option.value == item.dataset.value)\n    this.addSelected(option)\n    this.input.value = ''\n    this.input.focus()\n    this.renderMenu()\n  }\n\n  hasSelected(option) {\n    return Array.from(this.selectTarget.options).some(item => item.value == option.value)\n  }\n\n  addSelected(option) {\n    if (!this.hasSelected(option)) {\n      if (this.multiple) {\n        this.addSelectedOption(option)\n        this.appendChip(option)\n      } else {\n        this.selectTarget.innerHTML = ''\n        this.addSelectedOption(option)\n        this.text.textContent = option.text\n      }\n      this.setPlaceholder()\n\n      this.options.forEach((storeOption) => {\n        if (storeOption.value == option.value) {\n          storeOption.selected = true\n        } else if (!this.multiple) {\n          storeOption.selected = false\n        }\n      })\n\n      this.selectTarget.dispatchEvent(new Event('change', { bubbles: true }))\n    }\n  }\n\n  addSelectedOption(option) {\n    let dom = document.createElement('option')\n    dom.value = option.value\n    dom.text = option.text\n    dom.setAttribute('selected', '')\n    this.selectTarget.appendChild(dom)\n  }\n\n  removeSelected(value) {\n    Array.from(this.selectTarget.options).forEach((option) => {\n      if (option.value == value) {\n        option.remove()\n      }\n    })\n\n    if (this.multiple) {\n      this.chipTargets.forEach((chip) => {\n        if (chip.dataset.value == value) {\n          chip.remove()\n        }\n      })\n    } else {\n      this.text.textContent = ''\n    }\n\n    this.setPlaceholder()\n\n    this.options.forEach((storeOption) => {\n      if (storeOption.value == value) {\n        storeOption.selected = false\n      }\n    })\n\n    this.selectTarget.dispatchEvent(new Event('change', { bubbles: true }))\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  connect() {\n    this.element[this.identifier] = this;\n  }\n\n  remove() {\n    this.element.remove()\n  }\n}\n","import { Application } from 'stimulus'\nimport DialogController from './controllers/dialog_controller'\nimport DrawerController from './controllers/drawer_controller'\nimport DropdownController from './controllers/dropdown_controller'\nimport FloatingActionController from './controllers/floating_action_controller'\nimport SnackbarController from './controllers/snackbar_controller'\nimport ToggleController from './controllers/toggle_controller'\nimport SheetController from './controllers/sheet_controller'\nimport SelectorController from './controllers/selector_controller'\nimport ChipController from './controllers/chip_controller'\n\nfunction init(application) {\n  if (!application) {\n    application = Application.start()\n  }\n  application.register(\"dialog\", DialogController)\n  application.register(\"drawer\", DrawerController)\n  application.register(\"dropdown\", DropdownController)\n  application.register(\"floating-action\", FloatingActionController)\n  application.register(\"snackbar\", SnackbarController)\n  application.register(\"toggle\", ToggleController)\n  application.register(\"sheet\", SheetController)\n  application.register(\"selector\", SelectorController)\n  application.register(\"chip\", ChipController)\n}\n\nexport {\n  DialogController,\n  DrawerController,\n  DropdownController,\n  FloatingActionController,\n  SnackbarController,\n  ToggleController,\n  SheetController,\n  SelectorController,\n  ChipController,\n  init\n}\n"],"names":["animate","element","animationName","callback","classList","contains","addEventListener","animateRun","add","handleAnimationEnd","remove","removeEventListener","identifier","close","open","querySelector","Controller","closeMenuOutside","event","target","isOpen","document","delay","parseInt","data","get","setTimeout","targetElement","split","action","controller","call","multiple","selectTarget","maxItemsValue","content","createElement","className","appendChild","text","input","type","setPlaceholder","menu","initOptions","Array","from","options","forEach","option","selected","appendChip","textContent","value","renderMenu","focus","bind","onInput","onKeydown","clickOutside","blur","selectedOptions","length","maxItemsLimit","removeAttribute","setAttribute","placeholderValue","map","innerHTML","computedOptions","filterOptions","createOption","creatableValue","unshift","dom","htmlToElement","renderItem","focusItem","create","preventDefault","isComposing","keyCode","selectFocus","removeLast","focusPrev","focusNext","focusOption","focusIndex","addSelected","lastOptionDom","removeSelected","index","prevFocusItem","itemTargets","filter","toLowerCase","includes","html","template","trim","firstChild","chip","renderChip","insertBefore","stopPropagation","currentTarget","closest","dataset","find","item","some","hasSelected","addSelectedOption","storeOption","dispatchEvent","Event","bubbles","chipTargets","placeholder","String","creatable","Boolean","maxItems","Number","init","application","Application","start","register","DialogController","DrawerController","DropdownController","FloatingActionController","SnackbarController","ToggleController","SheetController","SelectorController","ChipController"],"mappings":"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"}